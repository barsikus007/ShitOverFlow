var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,c){a.raw=c;return a};
Date.prototype.format=function(a){var c=this.getFullYear(),f=c.toString().substring(2),d=this.getMonth()+1,b=10>d?"0"+d:d,e=this.getDate();e=10>e?"0"+e:e;var g=this.getHours();g=10>g?"0"+g:g;var h=this.getMinutes();h=10>h?"0"+h:h;var k=this.getSeconds(),l=10>k?"0"+k:k;a=a.replace(/%YY/i,c);a=a.replace(/%Y/i,f);a=a.replace(/%M/i,b);a=a.replace(/%d/i,e);a=a.replace(/%HH/i,g);a=a.replace(/%H/i,g);a=a.replace(/%MM/i,h);a=a.replace(/%m/i,h);a=a.replace(/%SS/i,l);a=a.replace(/%S/i,k);a=a.replace(/%b/i,
"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[d-1]);return a=a.replace(/%B/i,"January February March April May June July August September October November December".split(" ")[d-1])};
function addComments(a,c){fetch("/api/v1/"+a+"/"+c+"/comments").then(function(f){return f.json()}).then(function(f){f=f.comments.slice(5);var d=document.querySelector("#"+a+"-"+c+" .comments-block");f.forEach(function(b){var e=0;null!=b.score_data&&(e=1*b.score_data+-1*!b.score_data);b='<hr>\n<div id="comment-'+b.id+'" class="comment row d-flex justify-content-center comment-vote pb-3">\n    <div class="col-1">\n        <div class="comment-vote">\n            <div class="row">\n                <button class="'+
(1===e?"upvote ":-1===e?"unclickable ":"")+"arrow-up\" onclick=\"vote('comment', "+b.id+", 'upvote'"+(1===e?", true":"")+')">\n                    <svg class="svg-icon iconArrowUpLg" aria-hidden="true" width="18" height="18" viewBox="0 0 36 36">\n                        <path d="M2 26h32L18 10 2 26z"></path>\n                    </svg>\n                </button>\n            </div>\n\n            <div class="row d-flex justify-content-center vote-count comment-vote">'+b.score+'</div>\n\n            <div class="row">\n                <button class="'+
(-1===e?"downvote ":1===e?"unclickable ":"")+"arrow-down\" onclick=\"vote('comment', "+b.id+", 'downvote'"+(-1===e?", true":"")+')">\n                    <svg class="m0 svg-icon iconArrowDownLg" aria-hidden="true" width="18" height="18" viewBox="0 0 36 36">\n                        <path d="M2 10h32L18 26 2 10z"></path>\n                    </svg>\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div class="col-11 comment-text text-break">\n        <span>'+b.body+
'</span>\n        <span class="fine-text" title="'+(new Date(b.created_at)).format("%H:%M:%S %d.%m.%YY")+'">\u2013 '+b.author+" commented "+b.human_time+"</span>\n    </div>\n</div>";d.insertAdjacentHTML("beforeend",b)});document.querySelector("#"+a+"-"+c+" .comment-button-load").remove()})}
function vote(a,c,f,d){d=void 0===d?!1:d;fetch("/api/v1/"+a+"/"+c+"/"+f+(d?"/undo":""),{method:"POST"}).then(function(b){return b.json()}).then(function(b){if(b.success){var e=document.querySelector("#"+a+"-"+c+" button.arrow-up"),g=document.querySelector("#"+a+"-"+c+" button.arrow-down"),h=+document.querySelector("#"+a+"-"+c+" div.vote-count").innerHTML;"upvote"===f?(b=e,e=g,h+=d?-1:1):(b=g,h+=d?1:-1);d?(b.classList.remove(f),g=b.getAttribute("onclick"),b.setAttribute("onclick",g.slice(0,-7)+")"),
e.classList.remove("unclickable")):(b.classList.add(f),g=b.getAttribute("onclick"),b.setAttribute("onclick",g.slice(0,-1)+", true)"),e.classList.add("unclickable"));document.querySelector("#"+a+"-"+c+" div.vote-count").innerHTML=h}});return!1}
function commentSendPreview(a,c){document.querySelector("#"+a+"-"+c+" div.comment-button").innerHTML='<form name="create-'+a+'-comment" class="needs-validation">\n    <div class="row form-floating">\n        <div class="col-sm">\n            <input type="text" name="name" class="form-control" placeholder="Name" minlength="2" maxlength="64" onblur="checkInput(this,2,64)" required>\n            <div class="invalid-feedback">Please choose your name (2-64 symbols)</div>\n        </div>\n        <div class="col-sm-6">\n            <input type="text" name="comment" class="form-control" placeholder="Comment" minlength="3" maxlength="4096" onblur="checkInput(this,3,4096)" required>\n            <div class="invalid-feedback">Please specify comment (3-4096 symbols)</div>\n        </div>\n        <div class="col-sm">\n            <button type="button" class="btn btn-primary button-send" onclick="commentPush(\''+a+
"', "+c+')">Add comment</button>\n        </div>\n    </div>\n</form>'}function commentPush(a,c){var f=document.forms["create-"+a+"-comment"],d=f.elements.comment.value,b=f.elements.name.value;if(!f.checkValidity())return!1;fetch("/api/v1/"+a+"/"+c+"/comments/add",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"author": "'+b+'", "body": "'+d+'"}'}).then(function(e){return e.json()}).then(function(){return window.location.reload()});return!1}
function checkInput(a,c,f){var d=a.value;d.length<+c||d.length>+f?(a.classList.remove("is-valid"),a.classList.add("is-invalid")):(a.classList.add("is-valid"),a.classList.remove("is-invalid"))};
